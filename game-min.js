"use strict";window.onload=function(){var e=document.getElementById("miniJeuxValide"),n=0,t=!0,r=!1,o=!1,s=(document.querySelector("body"),document.getElementById("modalJeu1")),l=document.getElementById("modalJeu2"),a=document.getElementById("modalJeu3"),c=document.getElementById("accesCV"),d=document.getElementById("cvPage"),u=document.getElementById("cv"),g=!1;function m(){0==g?(d.style.display="block",window.scrollTo(0,780),g=!0):(window.scrollTo(0,0),d.style.display="none",g=!1)}u.addEventListener("click",m);var y={37:!1,38:!1,39:!1,40:!1},p=document.getElementById("monCanvas"),h=p.getContext("2d");p.width=1e3,p.height=700,s.style.display="none",l.style.display="none",a.style.display="none";var v=window.document.getElementById("choixPersonnage");v.style.display="none",p.style.display="none";var L=window.document.getElementById("btnJouer");L.addEventListener("click",function(){v.style.display="flex",L.style.display="none"});var f=new class{constructor(){this.x=0,this.y=220,this.width=32,this.height=48,this.imgSpriteX=0,this.imgSpriteY=0,this.vitesse=2,this.estEnMouvement=!1}getTop(){return this.y}getBottom(){return this.y+this.height}getLeft(){return this.x}getRight(){return this.x+this.width}};class T{constructor(e,n,t,i,r){this.imageSrc=e,this.dx=n,this.dy=t,this.dWidth=i,this.dHeight=r}dessiner(e,n,t,i,r){h.drawImage(E,n,t,i,r)}getTop(){return this.dy}getBottom(){return this.dy+this.dHeight}getLeft(){return this.dx}getRight(){return this.dx+this.dWidth}}var M=new T(E,350,350,30,30);console.log(M.dy);var H=new Image;H.src="./src/perso1.png";var w=new Image;w.src="./src/background1.jpg";var E=new Image;E.src="./src/javascript.png";var x=new Image;x.src="./src/haut.png";var I=new Image;I.src="./src/bas.png";var B=new Image;B.src="./src/gauche.png";var b=new Image;b.src="./src/droite.png";var S=window.document.getElementById("perso2"),k=window.document.getElementById("perso3"),V=window.document.getElementById("perso4");function z(e,n,t,i,r){h.drawImage(e,n,t,i,r)}perso1.addEventListener("click",function(){v.style.display="none",H.src="./src/perso1.png",C(),p.style.display="flex"}),S.addEventListener("click",function(){v.style.display="none",H.src="./src/perso2.png",C(),p.style.display="flex"}),k.addEventListener("click",function(){v.style.display="none",H.src="./src/perso3.png",C(),p.style.display="flex"}),V.addEventListener("click",function(){H.src="./src/perso4.png",v.style.display="none",C(),p.style.display="flex"}),setInterval(function(){(y[37]||y[38]||y[39]||y[40])&&(f.imgSpriteX<3&&f.estEnMouvement?f.imgSpriteX++:f.imgSpriteX=0)},100);var R=!1,X=48,Y=32,j=!1,q=!1,$=!1;function C(){var i,d,u,g,v,L,M,S,k,V;(h.clearRect(0,0,p.width,p.height),function(e){h.drawImage(e,0,0,p.width,p.height)}(w),i=H,d=f.width*f.imgSpriteX,u=f.height*f.imgSpriteY,g=f.width,v=f.height,L=f.x,M=f.y,S=Y,k=X,h.drawImage(i,d,u,g,v,L,M,S,k),1==t)&&(z(b,950,350,30,30),j||(V=new T(E,350,350,50,50)).dessiner(E,350,350,50,50));1==r&&(z(I,420,650,30,30),z(x,447,243,10,10),q||(V=new T(E,90,300,180,180)).dessiner(E,90,300,180,180));1==o&&(z(b,970,520,20,20),z(B,5,520,20,20),$||(V=new T(E,700,430,70,70)).dessiner(E,800,490,70,70));j&&q&&$||void 0===V||function(e,n){return!(e.getTop()>n.getBottom()||e.getRight()<n.getLeft()||e.getBottom()<n.getTop()||e.getLeft()>n.getRight())}(f,V)&&0==R&&(R=!0,P(),1!=t||j||(s.style.display="flex"),1!=r||q||(l.style.display="flex"),1!=o||$||(a.style.display="flex")),e.innerHTML=`Vous avez reussi ${n}/3 mini-jeux !`,function(){1!=y[37]||y[38]||y[39]||y[40]||(f.x>0&&(1==t||1==r)&&(f.x=f.x-f.vitesse,f.imgSpriteY=1,F()),1==o&&(f.x=f.x-f.vitesse-1,f.imgSpriteY=1,f.x<0&&(J(),w.src="./src/background2.jpg",E.src="./src/angular1.png",f.y=280,f.x=350,t=!1,r=!0,o=!1,X=418,Y=280,P(),f.vitesse=.1,f.imgSpriteY=3,R=!1)));1!=y[38]||y[37]||y[39]||y[40]||(f.y>220&&(1==t||1==r)&&(f.y=f.y-f.vitesse,Y-=1*Y/180,X-=1*X/180,f.imgSpriteY=3,F()),f.y<245&&1==r&&(w.src="./src/background1.jpg",E.src="./src/javascript.png",X=48,Y=32,f.y=270,f.x=p.width-Y-20,t=!0,r=!1,o=!1,X=48,Y=32,P(),f.vitesse=2,R=!1));1!=y[39]||y[37]||y[38]||y[40]||(f.x<p.width-Y&&(1==t||1==r)&&(f.x=f.x+f.vitesse,f.imgSpriteY=2,F()),f.x>p.width-Y&&1==t&&J(),1==o&&(f.x=f.x+f.vitesse+1,f.imgSpriteY=2,f.x>p.width-Y&&(3==n?(c.style.display="flex",O(),setTimeout(function(){c.style.display="none",m()},2e3)):(O(),alert("Vous n'avez pas termin√© vos mini-jeux !"),P()))));1!=y[40]||y[37]||y[38]||y[39]||(f.y<p.height-X&&(1==t||1==r)&&(f.y=f.y+f.vitesse,Y+=1*Y/180,X+=1*X/180,f.imgSpriteY=0,F()),1==r&&f.y>p.height-X&&O())}(),requestAnimationFrame(C)}function P(){y[37]=!1,y[38]=!1,y[39]=!1,y[40]=!1,f.estEnMouvement=!1}function J(){w.src="./src/background2.jpg",E.src="./src/angular1.png",f.y=250,f.x=400,t=!1,r=!0,o=!1,X=96,Y=64,P(),f.vitesse=.1,R=!1}function O(){w.src="./src/background3.png",E.src="./src/node.js1.png",f.x=20,f.y=430,t=!1,r=!1,o=!0,X=120,Y=80,P(),f.vitesse=2,f.imgSpriteY=2,R=!1}function F(){1==r&&y[40]&&(f.x=f.x-.3),1==r&&1==y[39]&&(f.x=f.x+2),1==r&&1==y[38]&&(f.x=f.x+.3),1==r&&1==y[37]&&(f.x=f.x-2)}function A(e){return Math.floor(Math.random()*Math.floor(e))}window.addEventListener("keydown",function(e){y[e.which]=!0,f.estEnMouvement=!0,console.log(y[e.which]),console.log(y)}),window.addEventListener("keyup",function(e){y[e.which]=!1,f.estEnMouvement=!1,f.imgSpriteX=0,console.log(y)});var N=0,W=0;const D=["Pierre","Feuille","Ciseau"];let G=document.getElementById("pierre"),K=document.getElementById("feuille"),Q=document.getElementById("ciseau"),U=document.getElementById("resultat"),Z=document.getElementById("reponseTour"),_=document.getElementById("repRobot");function ee(){3===N&&(N=0,W=0,n++,_.innerHTML="Vous avez Gagn√© !!",Z.innerHTML="",j=!0,setTimeout(function(){Z.innerHTML="",U.innerHTML="",s.style.display="none"},2500)),3===W&&(N=0,W=0,R=0,_.innerHTML="Vous avez perdu...",Z.innerHTML="",1==t&&(f.x=0),setTimeout(function(){Z.innerHTML="",U.innerHTML="",s.style.display="none"},2500))}G.addEventListener("click",function(){let e=D[A(3)];"Ciseau"==e&&(N++,Z.innerHTML="Vous marquez 1 point",_.innerHTML="‚úåüèº");"Feuille"==e&&(W++,Z.innerHTML="Le robot marque 1 point",_.innerHTML="üñêüèº");"Pierre"==e&&(Z.innerHTML="Le robot a √©galement fait pierre",_.innerHTML="üëäüèº");U.innerHTML=`Vous : ${N} ||  Robot: ${W}`,ee()}),K.addEventListener("click",function(){let e=D[A(3)];"Ciseau"==e&&(W++,Z.innerHTML="Le robot marque 1 point",_.innerHTML="‚úåüèº");"Feuille"==e&&(Z.innerHTML="Le robot a √©galement fait feuille",_.innerHTML="üñêüèº");"Pierre"==e&&(N++,Z.innerHTML="Vous marquez 1 point",_.innerHTML="üëäüèº");U.innerHTML=`Vous : ${N} ||  Robot: ${W}`,ee()}),Q.addEventListener("click",function(){let e=D[A(3)];"Ciseau"==e&&(Z.innerHTML="Le robot a √©galement fait ciseau",_.innerHTML="‚úåüèº");"Feuille"==e&&(N++,Z.innerHTML="Vous marquez 1 point",_.innerHTML="üñêüèº");"Pierre"==e&&(W++,Z.innerHTML="Le robot marque 1 point",_.innerHTML="üëäüèº");U.innerHTML=`Vous : ${N} ||  Robot: ${W}`,ee()});var ne=document.getElementById("nbSaisie"),te=document.getElementById("resultatNb"),ie=document.getElementById("repNb"),re=document.getElementById("chancesRestantes"),oe="‚ù§Ô∏è ",se=7,le=A(101);te.addEventListener("click",function(){""!=ne.value&&(console.log(le),console.log(ne.value),ne.value==le&&(console.log("Vous avez gagn√© !!"),ie.innerHTML="Vous avez gagn√© !!",q=!0,n++,setTimeout(function(){l.style.display="none"},2e3)),ne.value<le&&(console.log("Le nombre est plus grand"),se--,re.innerHTML=oe.repeat(se),ie.innerHTML="Le nombre est plus grand"),ne.value>le&&(console.log("Le nombre est plus petit"),se--,ie.innerHTML="Le nombre est plus petit",re.innerHTML=oe.repeat(se)),0==se&&(ie.innerHTML=`Vous avez perdu... Le nombre √©tait ${le}`,J(),F(),se=7,le=A(101),console.log("perdu.."),setTimeout(function(){re.innerHTML=oe.repeat(se),ie.innerHTML="R√©essayez",l.style.display="none"},2e3)))});document.getElementById("tourDeJouer");let ae=!0;var ce=["","","","","","","","",""];const de=document.getElementById("gagnant");var ue=!1;const ge=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];let me=document.querySelectorAll(".carre");function ye(){ae=!0,console.log("case tape"),console.log(this.dataset.id-1);var e=parseInt(this.dataset.id)-1;if(""==ce[e]&&ae){ce[e]="X",this.innerHTML="X",pe();var n=0;if(me.forEach(e=>{""!=e.innerHTML&&(n++,console.log("nbCarreRempli - O"),console.log(n))}),n>=8&&0==ue)return de.innerHTML="√âgalit√© !!! On r√©esaye !",console.log("rempli"),ae=!1,void setTimeout(function(){me.forEach(e=>{e.innerHTML=""});for(var e=0;e<=8;e++)ce[e]="";a.style.display="none",O(),de.innerHTML=""},2e3);ae&&n<9&&(!function(){var e=!1;for(;0==e;){var n=A(9);"O"!=ce[n]&&"X"!=ce[n]&&(ce[n],ce[n]="O",document.getElementById(`case${n+1}`).innerHTML="O",e=!0)}}(),pe())}}function pe(){for(let e of ge)if(ce[e[0]]==ce[e[1]]&&ce[e[1]]==ce[e[2]]&&""!=ce[e[0]]&&""!=ce[e[1]]&&""!=ce[e[2]]&&("X"==ce[e[0]]&&(ue=!0,de.innerHTML="Vous avez gagnez",$=!0,ae=!1,n++,setTimeout(function(){a.style.display="none",me.forEach(e=>{e.innerHTML=""});for(var e=0;e<=8;e++)ce[e]="";de.innerHTML="",console.log(ce)},2e3)),"O"==ce[e[0]])){for(de.innerHTML="Vous avez Perdu",ae=!1,me.forEach(e=>{e.innerHTML=""}),i=0;i<=8;i++)ce[i]="";setTimeout(function(){a.style.display="none",O(),de.innerHTML=""},2e3)}}me.forEach(e=>e.addEventListener("click",ye))};